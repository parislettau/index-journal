(function(){"use strict";const e=window.Vue;function a(){return window.panel}const l=()=>window.panel.plugins.viewButtons!==void 0;e.computed,e.customRef,e.defineAsyncComponent,e.defineComponent,e.effectScope,e.getCurrentInstance,e.getCurrentScope,e.h,e.inject,e.isProxy,e.isReactive,e.isReadonly,e.isRef,e.isShallow,e.markRaw,e.nextTick,e.onActivated,e.onBeforeMount,e.onBeforeUnmount,e.onBeforeUpdate,e.onDeactivated,e.onErrorCaptured,e.onMounted,e.onRenderTracked,e.onRenderTriggered,e.onScopeDispose,e.onServerPrefetch,e.onUnmounted,e.onUpdated,e.provide,e.proxyRefs,e.reactive,e.readonly;const u=e.ref;e.shallowReactive,e.shallowReadonly,e.shallowRef,e.toRaw,e.toRef,e.toRefs,e.triggerRef,e.unref,e.useAttrs,e.useCssModule,e.useCssVars,e.useListeners,e.useSlots,e.watch,e.watchEffect,e.watchPostEffect,e.watchSyncEffect;function p(r,n,o,i,t,y,v,_){var s=typeof r=="function"?r.options:r;return n&&(s.render=n,s.staticRenderFns=o,s._compiled=!0),{exports:r,options:s}}const f={__name:"DeployTriggerButton",setup(r){const n=a(),o=u(!1);async function i(){if(!o.value){o.value=!0;try{await Promise.all([(async()=>{const{data:t}=await n.api.post("__deploy-trigger__/hook");console.log("Deploy trigger response:",t)})(),new Promise(t=>setTimeout(t,1500))]),n.notification.success(n.t("johannschopplich.deploy-trigger.success"))}catch(t){console.error(t),n.notification.error(t.message)}finally{o.value=!1}}}return{__sfc:!0,panel:n,isDeploying:o,triggerDeploy:i}}};var d=function(){var n=this,o=n._self._c,i=n._self._setupProxy;return o("k-button",{attrs:{text:i.panel.t("johannschopplich.deploy-trigger.label"),icon:i.isDeploying?"loader":"deploy-trigger-rocket",responsive:"text",theme:"blue-icon",variant:"filled",size:"sm"},on:{click:function(t){return i.triggerDeploy()}}})},g=[],w=p(f,d,g);const c=w.exports,h={"deploy-trigger-rocket":'<path fill="currentColor" d="M15.502 20.005A6.52 6.52 0 0 1 12 23.507a6.52 6.52 0 0 1-3.502-3.502h2.26c.326.488.747.912 1.242 1.243c.495-.33.916-.755 1.242-1.243zM18 14.81l2 2.268v1.927H4v-1.927l2-2.268V9.005c0-3.483 2.504-6.447 6-7.545c3.496 1.098 6 4.062 6 7.545zm-.73 2.195L16 15.565v-6.56c0-2.318-1.57-4.43-4-5.421c-2.43.99-4 3.103-4 5.42v6.561l-1.27 1.44zm-5.27-6a2 2 0 1 1 0-4a2 2 0 0 1 0 4" />'};function m(r){if(l())return;let n;r.mixin({mounted(){if(this.$options.name!=="k-header"||window.panel.view.component!=="k-site-view")return;const o=this.$children.find(t=>t.$options.name==="k-button-group");if(!o)return;const i=r.extend(c);n=new i({parent:this}),n.$mount(),o.$el.after(n.$el)},beforeDestroy(){this.$options.name==="k-header"&&window.panel.view.component==="k-site-view"&&n&&(n.$destroy(),n=void 0)}})}window.panel.plugin("johannschopplich/deploy-trigger",{viewButtons:{"deploy-trigger":c},icons:h,use:[m]})})();
